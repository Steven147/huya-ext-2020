/** 
 * @author: Huya
 * @date: 2019-03-25 14:25:50
 */

/**
* HYExtEBS
* @namespace HYExtEBS
*/
import {
    NativeModules,
    Platform
} from 'react-native';

/**
* 获取对应key的value
* @function requestEbs
* @memberof HYExtEBS
* @param {object} params   - params { header, host, port, path, httpMethod, param, cookies }
* @return {Promise<object>} 返回对应的value
*/

class ExtEBS {
      requestEbs(options) {
        return NativeModules.HYExtEBS.requestEbs(options);
     }

     async request(options) {
        if(Platform.OS == 'android'){
            try{  
                let respDict = await NativeModules.HYExtEBS.request(options);
                if(respDict.statusCode){
                    respDict.statusCode = parseInt(respDict.statusCode);
                }
                return respDict;
             }
                catch (error) {
                   throw (error); 
             }
        }
        else{
            return NativeModules.HYExtEBS.request(options);
        }
    }

}
export default new ExtEBS()